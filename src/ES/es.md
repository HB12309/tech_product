关键词⻓了会有问题，我就做限制嘛，⼤家可以去看看搜索引擎某度、某宝啥的，是不是都做了⻓度限制？
我复制了很⻓的⼀段汉字进去百度就是这个结果咯，某宝过⻓都返回默认⻚⾯了。

使⽤通配符(Wildcard Query)来实现模糊查询（⽐如⽤户输⼊补全)，因为这是和SQL⾥like操作最相似的查询⽅式，

即使no hits，耗时很高，并且执⾏过程中，CPU有⼀个很⾼的尖峰。

最终：为了加速通配符和正则表达式的匹配速度，Lucene4.0开始会将输⼊的字符串模式构建成⼀个DFA
(Deterministic Finite Automaton)，带有通配符的pattern构造出来的DFA可能会很复杂，开销很⼤。

一开始：不确定状态机，也就是Non-deterministic Finite Automaton（NFA)。

转换：org.apache.lucene.util.automaton.Operations类⾥的determinize⽅法则会将NFA转换为DFA。这个过程的时间复杂度最差情况下是状态数量的指数级别，为防⽌产⽣的状态过多，消耗过多的内存和CPU，类⾥⾯对最⼤状态数量做了限制。 NFA在输⼊⼀个条件的情况下，可以从⼀个状态转移到多种状态，⽽DFA只会有⼀个确定的状态可以转移，因此DFA在字符串匹配时速度更快。DFA虽然搜索的时候快，但是构造⽅⾯的时间复杂度可能⽐较⾼，特别是带有⾸部通配符+⻓字符串的时候。